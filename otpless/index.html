<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Hello</h1>
    
    <button id="otpless"  onclick="loadScript()" custom="true">Hello there </button>


<script type="text/javascript">
    function loadScript() {
  const script = document.createElement("script");
  script.src = "https://otpless.com/auth.js";
  script.id = "otplessIdScript";
  document.body.appendChild(script);
}

function otplessCallback(otplessUser) {
  console.log(otplessUser);
}

window.onload = function () {
  loadScript();

  window.otpless = otplessCallback;

  window.onbeforeunload = function () {
    let script = document.getElementById("otplessIdScript");
    if (script) {
      document.body.removeChild(script);
    }
  };
};


</script>
<script src="./script.js">

</script>
</body>
</html>